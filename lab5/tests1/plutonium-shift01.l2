//test return 2147483647

int main ()
{
  int x;

  x = 1;  // 1
  x <<= x; // 2
  x <<= 33 % 32; // 4
  x >>= 1; // 2
  x = ~x; // -3
  x >>= 33 % 32; // -2
  x |= 1; // -1
  x &= 1 << 31; // -2^31
  x ^= 1 << 31 >> 31; // 2^31-1
  return x;
}
